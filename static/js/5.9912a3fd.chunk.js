(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[5],{118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){"use strict";var n=a(6),r=a(13),i=a(0),l=a.n(i),s=a(8),c=a.n(s),o=a(39),u=a.n(o),m=a(26),d={tag:m.o,className:c.a.string,cssModule:c.a.object},v=function(e){var t=e.className,a=e.cssModule,i=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),c=Object(m.k)(u()(t,"modal-footer"),a);return l.a.createElement(i,Object(n.a)({},s,{className:c}))};v.propTypes=d,v.defaultProps={tag:"div"},t.a=v},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(22),i=a(24),l=a(23),s=a(0),c=a.n(s),o=(a(118),a(12)),u=a(27),m=a(14),d=a(42),v=a(41),g=(a(119),a(40)),h=(a(120),a(121),a(43)),p=(a(122),a(80)),b=a(133),f=a(110),E=a(111),w=a(88),O=a(89),y=a(90),j=a(123),R=a(72),S=a(73),k=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={modal:!1,reviewText:e.reviewText,fanScore:e.fanScore,errorMessageDisplay:null,errorMessage:null},r.toggle=r.toggle.bind(Object(g.a)(r)),r.handleOnChange=r.handleOnChange.bind(Object(g.a)(r)),r.handleUpdateSubmit=r.handleUpdateSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(a,[{key:"toggle",value:function(){var e=this;this.setState((function(t){var a;return a={modal:!t.modal,errorMessageDisplay:null},Object(h.a)(a,"errorMessageDisplay",null),Object(h.a)(a,"reviewText",e.props.reviewText),Object(h.a)(a,"fanScore",e.props.fanScore),a}))}},{key:"handleOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(h.a)({},a,n))}},{key:"handleUpdateSubmit",value:function(){if(this.props.reviewText===this.state.reviewText&&this.props.fanScore===this.state.fanScore)this.setState({errorMessageDisplay:!0,errorMessage:"You did not make any changes."});else if(this.state.reviewText.length<5)this.setState({errorMessageDisplay:!0,errorMessage:"You need a minimum of 5 characters."});else if(this.state.reviewText.length>500)this.setState({errorMessageDisplay:!0,errorMessage:"You went over the maximum of 500 characters."});else{this.setState({errorMessageDisplay:null,errorMessage:null});var e=this.state,t=e.reviewText,a=e.fanScore,n=this.props,r=n.imdbID,i=n.updateReviewStart,l=n.currentUser,s=n.id,c=window.sessionStorage.getItem("token");i({review:t,userID:l.id,fanscore:a,imdbID:r,token:c,reviewID:s}),this.toggle()}}},{key:"render",value:function(){var e=this.props.label;return c.a.createElement("div",null,c.a.createElement(p.a,{onClick:this.toggle}," ",e," "),c.a.createElement(b.a,{isOpen:this.state.modal,toggle:this.toggle},c.a.createElement(f.a,{toggle:this.toggle},"Your Review"),c.a.createElement(E.a,null,c.a.createElement("form",null,this.state.errorMessageDisplay?c.a.createElement(S.a,{message:this.state.errorMessage,color:"#ffa62b"}):"",c.a.createElement(R.a,{id:"reviewText",label:"Write Your Review Here",name:"reviewText",type:"textarea",onChange:this.handleOnChange,value:this.state.reviewText}),c.a.createElement(w.a,null,c.a.createElement(O.a,{for:"exampleSelect"},"Rate: "),c.a.createElement(y.a,{type:"select",name:"fanScore",id:"select",onChange:this.handleOnChange,value:this.state.fanScore},c.a.createElement("option",{value:1},"1"),c.a.createElement("option",{value:2},"2"),c.a.createElement("option",{value:3},"3"),c.a.createElement("option",{value:4},"4"),c.a.createElement("option",{value:5},"5"))))),c.a.createElement(j.a,null,c.a.createElement(p.a,{color:"warning",onClick:this.handleUpdateSubmit},"Update")," ",c.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),a}(c.a.Component),N=(a(124),function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={modal:!1},r.toggle=r.toggle.bind(Object(g.a)(r)),r.handleDeleteSubmit=r.handleDeleteSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(a,[{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"handleDeleteSubmit",value:function(){var e=this.props,t=e.imdbID,a=e.currentUser,n=e.id,r=e.deleteReviewStart,i=window.sessionStorage.getItem("token");r({userID:a.id,imdbID:t,token:i,reviewID:n}),this.toggle()}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.Title;return c.a.createElement("div",null,c.a.createElement(p.a,{onClick:this.toggle}," ",t," "),c.a.createElement(b.a,{isOpen:this.state.modal,toggle:this.toggle},c.a.createElement(f.a,{toggle:this.toggle},"Your Review"),c.a.createElement(E.a,null,"Are you sure you want to delete your review for ",c.a.createElement("strong",null,a)," ?"),c.a.createElement(j.a,null,c.a.createElement(p.a,{color:"warning",onClick:this.handleDeleteSubmit},"Delete")," ",c.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),a}(c.a.Component)),x=function(e){var t=Object.assign({},e),a=t.review,n=t.fanscore,r=t.username,i=t.userid,l=t.currentUser;return c.a.createElement("div",{className:"Review"},c.a.createElement("div",{className:"text-right"}," ",c.a.createElement("span",{className:"username"},r.toUpperCase())," "),c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"},"Scored:")," ",c.a.createElement("span",{className:"username"},n,"/5")," "),c.a.createElement("div",{className:"review-text"},c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"})," ",a," ",c.a.createElement("span",{className:"bold-text"}))),c.a.createElement("div",{className:"footer"},i===l.id?c.a.createElement("div",{className:"edit-delete"},c.a.createElement(k,Object.assign({},t,{reviewText:a,fanScore:n,label:"Edit"})),c.a.createElement(N,Object.assign({},t,{label:"Delete"}))):c.a.createElement("div",null)))},D=a(71),C=Object(m.b)({isLoading:v.a}),M=Object(u.b)(C)(Object(D.a)(x,"200px")),I=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={modal:!1,reviewText:"",fanScore:"1",errorMessageDisplay:null,errorMessage:null},r.toggle=r.toggle.bind(Object(g.a)(r)),r.handleOnChange=r.handleOnChange.bind(Object(g.a)(r)),r.handleReviewSubmit=r.handleReviewSubmit.bind(Object(g.a)(r)),r}return Object(r.a)(a,[{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"handleOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(h.a)({},a,n))}},{key:"handleReviewSubmit",value:function(){if(this.state.reviewText.length<5)this.setState({errorMessageDisplay:!0,errorMessage:"You need a minimum of 5 characters."});else if(this.state.reviewText.length>500)this.setState({errorMessageDisplay:!0,errorMessage:"You went over the maximum of 500 characters."});else{this.setState({errorMessageDisplay:null,errorMessage:null});var e=this.state,t=e.reviewText,a=e.fanScore,n=this.props,r=n.imdbID,i=n.submitMovieReviewStart,l=n.currentUser,s=window.sessionStorage.getItem("token");i({review:t,userID:l.id,score:a,imdbID:r,token:s}),this.toggle()}}},{key:"render",value:function(){var e=this.props,t=e.buttonLabel,a=e.className;return c.a.createElement("div",null,c.a.createElement(p.a,{color:"warning",onClick:this.toggle},t),c.a.createElement(b.a,{isOpen:this.state.modal,toggle:this.toggle,className:a},c.a.createElement(f.a,{toggle:this.toggle},"Your Review"),c.a.createElement(E.a,null,c.a.createElement("form",null,this.state.errorMessageDisplay?c.a.createElement(S.a,{message:this.state.errorMessage,color:"#ffa62b"}):"",c.a.createElement(R.a,{id:"reviewText",label:"Write Your Review Here",name:"reviewText",type:"textarea",onChange:this.handleOnChange}),c.a.createElement(w.a,null,c.a.createElement(O.a,{for:"exampleSelect"},"Rate: "),c.a.createElement(y.a,{type:"select",name:"fanScore",id:"select",onChange:this.handleOnChange},c.a.createElement("option",{value:1},"1"),c.a.createElement("option",{value:2},"2"),c.a.createElement("option",{value:3},"3"),c.a.createElement("option",{value:4},"4"),c.a.createElement("option",{value:5},"5"))))),c.a.createElement(j.a,null,c.a.createElement(p.a,{color:"warning",onClick:this.handleReviewSubmit},"Submit")," ",c.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),a}(c.a.Component),T=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).displayReviewButton=r.displayReviewButton.bind(Object(g.a)(r)),r.displayReviews=r.displayReviews.bind(Object(g.a)(r)),r}return Object(r.a)(a,[{key:"displayReviewButton",value:function(){var e=this.props,t=e.moreReviewInfo,a=e.currentUser;return t&&t.find((function(e){return e.userid===a.id}))?"":c.a.createElement("div",null,c.a.createElement(I,Object.assign({buttonLabel:"Write a Review!",className:"review-modal"},this.props)))}},{key:"displayReviews",value:function(){var e=this,t=this.props.moreReviewInfo;if(t){var a=t.sort((function(e,t){return parseFloat(e.id)-parseFloat(t.id)}));return c.a.createElement("div",{className:"row"},a.map((function(t){return c.a.createElement("div",{className:"col-lg-6 col-md-12",key:t.userid},c.a.createElement(M,Object.assign({},t,e.props,{key:t.userid})))})))}return c.a.createElement("p",{className:"no-reviews"},"No Fan Reviews At This Moment")}},{key:"render",value:function(){return c.a.createElement("div",{className:"DetailedFanReviews"},c.a.createElement("div",{className:"review-btn"},c.a.createElement("h3",null,"FAN REVIEWS"),this.displayReviewButton()),c.a.createElement("hr",null),this.displayReviews())}}]),a}(c.a.Component),A=(a(125),a(86)),F=(a(126),function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={imdbRating:0,audienceRating:0},r.calculateImdbRating=r.calculateImdbRating.bind(Object(g.a)(r)),r.calculateAudienceRating=r.calculateAudienceRating.bind(Object(g.a)(r)),r.calculateAudienceReviewLength=r.calculateAudienceReviewLength.bind(Object(g.a)(r)),r.calculatePluralTense=r.calculatePluralTense.bind(Object(g.a)(r)),r.determineRatingImage=r.determineRatingImage.bind(Object(g.a)(r)),r.timer=r.timer.bind(Object(g.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.mounted=!0,this.timer()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearTimeout(this.timer)}},{key:"timer",value:function(){var e=this,t=this.props.imdbRating,a=this.calculateAudienceRating();setTimeout((function(){e.mounted&&e.setState({imdbRating:(parseFloat(t)/10*100).toFixed(0),audienceRating:a})}),0)}},{key:"calculateImdbRating",value:function(){var e=this.props.imdbRating;return(parseFloat(e)/10*100).toFixed(0)}},{key:"calculateAudienceRating",value:function(){var e=this.props.averageFanScore;return e?(parseFloat(e)/5*100).toFixed(0):0}},{key:"calculateAudienceReviewLength",value:function(){var e=this.props.moreReviewInfo;if(e){var t=e[0].fanreviews;return t.length,"".concat(t.length)}return null}},{key:"calculatePluralTense",value:function(){var e=this.props.moreReviewInfo;return e?1===e[0].fanreviews.length?"Fan Review":"Fan Reviews":null}},{key:"determineRatingImage",value:function(){var e,t=this.props.averageFanScore;if(t){var a=(parseFloat(t)/5*100).toFixed(0);return a>=0&&a<70?e="https://www.flaticon.com/svg/static/icons/svg/1301/1301458.svg":a>=70&&a<90?e="https://www.flaticon.com/svg/static/icons/svg/1301/1301447.svg":a>=90&&(e="https://www.flaticon.com/svg/static/icons/svg/616/616655.svg"),e}return e="https://www.flaticon.com/svg/static/icons/svg/942/942751.svg"}},{key:"render",value:function(){var e=this.props,t=e.moreReviewInfo,a=e.imdbVotes;return c.a.createElement("div",{className:"DetailedMovieRatings"},c.a.createElement("div",{className:"white-card"},c.a.createElement("div",{className:"Critic"},c.a.createElement("div",{className:"rating"},c.a.createElement("div",{style:{width:"110px",height:"110px"}},c.a.createElement(A.a,{value:this.state.imdbRating,strokeWidth:11,styles:Object(A.b)({rotation:0,strokeLinecap:"round",pathTransitionDuration:1,pathColor:"rgba(240,138,93, ".concat(this.state.imdbRating/100,")"),textColor:"#f88",trailColor:"#d6d6d6",backgroundColor:"#3e98c7"})},c.a.createElement("img",{style:{width:50,marginTop:0},src:"https://www.flaticon.com/svg/static/icons/svg/889/889118.svg",alt:"rating"}),c.a.createElement("div",{style:{fontSize:16,marginTop:-7}},this.state.imdbRating,"%")))),c.a.createElement("div",{className:"label"},c.a.createElement("span",{className:"text-bold"},a),"\xa0Votes")),c.a.createElement("div",{className:"Audience"},c.a.createElement("div",{className:"rating"},c.a.createElement("div",{style:{width:"110px",height:"110px"}},c.a.createElement(A.a,{value:this.state.audienceRating,strokeWidth:11,styles:Object(A.b)({rotation:0,strokeLinecap:"round",pathTransitionDuration:1,pathColor:"rgba(62, 152, 199, ".concat(this.calculateAudienceRating()/100,")"),textColor:"#f88",trailColor:"#d6d6d6",backgroundColor:"#3e98c7"})},c.a.createElement("img",{style:{width:38,marginTop:0},src:"".concat(this.determineRatingImage()),alt:"rating"}),c.a.createElement("div",{className:"percent",style:{fontSize:16,marginTop:0}},0===this.calculateAudienceRating()?"":this.calculateAudienceRating()+"%")))),c.a.createElement("div",{className:"label"},t?c.a.createElement("div",null,c.a.createElement("span",{className:"text-bold-audience"},this.calculateAudienceReviewLength())," ",this.calculatePluralTense()):"No Reviews"))))}}]),a}(c.a.Component)),L=Object(m.b)({isLoading:v.a}),P=Object(u.b)(L)(Object(D.a)(F,"200px")),U=(a(127),function(e){var t=Object.assign({},e),a=t.Poster,n=t.Rated,r=t.Genre,i=t.Director,l=t.Actors,s=t.Plot,o=t.Production,u=t.Awards;return c.a.createElement("div",{className:"DetailedMovieInfo"},c.a.createElement("div",{className:"title-img"},c.a.createElement("img",{src:a,alt:"movie",width:"210px"})),c.a.createElement("div",{className:"details"},c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"}," Directed By:")," ",i),c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"}," Genre:")," ",r),c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"},"Production:"),"  ",o),c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"},"Rated:"),"  ",n),c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"},"Awards:"),"  ",u),c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"},"Actors:"),"  ",l),c.a.createElement("p",null,c.a.createElement("span",{className:"bold-text"},"Plot:"),"  ",s)))}),Y=Object(m.b)({isLoading:v.a}),W=Object(u.b)(Y)(Object(D.a)(U,"200px")),B=function(e){var t=Object.assign({},e);return c.a.createElement("div",{className:"DetailedMovie"},c.a.createElement(P,t),c.a.createElement(W,t),c.a.createElement(T,t))},V=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.imdbID,a=e.getReviewsByMovieIDStart,n=e.currentUser,r=window.sessionStorage.getItem("token");a({userID:n.id,imdbID:t,token:r})}},{key:"render",value:function(){var e=this,t=this.props.movieList;return c.a.createElement("div",{className:"SingleMoviePage"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-10"},t.map((function(t){return c.a.createElement(B,Object.assign({},t,e.props,{key:t.imdbID}))}))))))}}]),a}(c.a.Component),z=Object(m.b)({currentUser:d.a,movieList:v.e});t.default=Object(u.b)(z,(function(e){return{getReviewsByMovieIDStart:function(t){return e(Object(o.q)(t))},submitMovieReviewStart:function(t){return e(Object(o.v)(t))},updateReviewStart:function(t){return e(Object(o.z)(t))},deleteReviewStart:function(t){return e(Object(o.c)(t))}}}))(V)},71:function(e,t,a){"use strict";var n=a(76),r=a(0),i=a.n(r),l=a(69);a(75);t.a=function(e,t){return function(a){var r=a.isLoading,s=Object(n.a)(a,["isLoading"]),c=s.color;return r?i.a.createElement("div",{className:"PageWithSpinner",style:{height:t}},i.a.createElement(l.a,{style:{width:"5rem",height:"5rem"},color:c})):i.a.createElement(e,s)}}},72:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(88),l=a(89),s=a(90);t.a=function(e){var t=e.id,a=e.label,n=e.name,c=e.type,o=e.placeholder,u=e.onChange,m=e.value,d=e.onKeyPress;return r.a.createElement("div",{className:"FormInput"},r.a.createElement(i.a,null,r.a.createElement(l.a,{for:t},a),r.a.createElement(s.a,{type:c,name:n,id:t,placeholder:o,onChange:u,value:m,onKeyPress:d})))}},73:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(74);t.a=function(e){var t=Object.assign({},e),a=t.colorCode,n=t.message;return r.a.createElement("div",{className:"ValidationMessage"},r.a.createElement("img",{src:"https://www.flaticon.com/svg/static/icons/svg/1199/1199619.svg",alt:"warning"}),r.a.createElement("p",{style:{color:"".concat(a)}},n))}},74:function(e,t,a){},75:function(e,t,a){}}]);
//# sourceMappingURL=5.9912a3fd.chunk.js.map